1. Создать файл "Sfun_Get_Parameters.c":

//===================================================================

double  A00, A01, A10, B00, B11, C00, C11;

void Sfun_Get_Parameters(SimStruct *S)
{
    const real_T        *param0  = mxGetPr(PARAM_DEF0(S));
    const real_T        *param1  = mxGetPr(PARAM_DEF1(S));
    const real_T        *param2  = mxGetPr(PARAM_DEF2(S));
    const real_T        *param3  = mxGetPr(PARAM_DEF3(S));
    const real_T        *param4  = mxGetPr(PARAM_DEF4(S));
    const real_T        *param5  = mxGetPr(PARAM_DEF5(S));

    const int_T         p_width0  = mxGetNumberOfElements(PARAM_DEF0(S));
    const int_T         p_width1  = mxGetNumberOfElements(PARAM_DEF1(S));
    const int_T         p_width2  = mxGetNumberOfElements(PARAM_DEF2(S));
    const int_T         p_width3  = mxGetNumberOfElements(PARAM_DEF3(S));
    const int_T         p_width4  = mxGetNumberOfElements(PARAM_DEF4(S));
    const int_T         p_width5  = mxGetNumberOfElements(PARAM_DEF5(S));


    double L,R,J,Cm,Cw,Fi;

    L=*param0;  R=*param1;  J=*param2; Cm=*param3; Cw=*param4;  Fi=*param5;

    A00 = -R/L;   A01 = -Cw*Fi/L;  A10 = Cm*Fi/J; 
    B00 = 1/L;    B11 = -1/J;      C00 = Cm*Fi;   C11 = 1;
}
//===================================================================



2. Добавить в файле "DPT_Sfunc_1_C.c" после директив "#define..." :

//===================================================================
   #include "Sfun_Get_Parameters.c"
//===================================================================


3.  Добавить в файле "DPT_Sfunc_1_C.c" в конце функции "mdlInitializeSizes" :

//===================================================================
    Sfun_Get_Parameters(S);
//===================================================================


4.  Добавить в файле "DPT_Sfunc_1_C_wrapper.c" после директив "#include..." : 

//===================================================================
double  A00, A01, A10, B00, B11, C00, C11;
//===================================================================

5.  В файле "DPT_Sfunc_1_C_wrapper.c" в теле функции "DPT_Sfunc_1_C_Outputs_wrapper"
    убрать (закоментировать) строки:

 double Cm = param3[0], Fi = param5[0];
 double C00=Cm*Fi, C11= 1;

6.   В файле "DPT_Sfunc_1_C_wrapper.c" в теле функции "DPT_Sfunc_1_C_Derivatives_wrapper"
    убрать (закоментировать) строки:

 double L = param0[0],  R = param1[0],  J =param2[0];
 double Cm = param3[0], Cw = param4[0], Fi=param5[0];

 double A00 = -R/L ,    A01 = -Cw*Fi/L , B00 = 1/L;
 double A10 = Cm*Fi/J , B11 = -1/J;

